<query-editor-row query-ctrl="ctrl" can-collapse="false">


  <div class="gf-form-inline">

     <div class="gf-form ">
        <label class="gf-form-label width-8">Application</label>
          <metric-segment 
            class="width-8" 
            segment="ctrl.applicationSegment" 
            get-options="ctrl.getApplicationNames($query)" 
            on-change="ctrl.appChanged()">
          </metric-segment>
      </div>

      <div class="gf-form  gf-form--grow">
        <label class="gf-form-label width-8">Metric</label>
        <input type="text"
              class="gf-form-input"
              ng-model="ctrl.target.metric"
              spellcheck='false'
              bs-typeahead="ctrl.getMetricNames"
              match-all="true"
              min-length="0"
              placeholder="MetricPath"
              data-min-length=0 data-items=100
              ng-blur="ctrl.onChangeInternal()">
        </input>
      </div>

      <gf-form-switch class="gf-form" label="App on legend" checked="ctrl.target.showAppOnLegend" on-change="ctrl.onChangeInternal()">
    </gf-form-switch>

      <div class="gf-form-select-wrapper">
        <select class="gf-form-input"
              ng-model="ctrl.target.transformLegend"
              ng-init="ctrl.target.transformLegend = ctrl.target.transformLegend || 'Full Path'"
              ng-options="t for t in ['Full Path', 'Segments']"
              ng-change="ctrl.onChangeInternal()">
        </select>
      </div>

      <div class="gf-form" ng-if="ctrl.target.transformLegend != 'Full Path'">
        <input type="text"
              class="gf-form-input"
              ng-model="ctrl.target.transformLegendText"
              spellcheck='false'
              bs-tooltip="'Specify the segments of the Metric Path that you want to display on legend, ex: 1,3'"
              match-all="true"
              min-length="1"
              data-min-length=0 data-items=100
              ng-blur="ctrl.onChangeInternal()">
        </input>
      </div>

</div>


</query-editor-row>